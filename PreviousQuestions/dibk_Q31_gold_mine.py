'''
ğŸªë¬¸ì œ ë²ˆí˜¸ :
16ì¥ DP - ê¸ˆê´‘

ğŸˆë¬¸ì œ ì •ì˜ :
NXMí¬ê¸°ì˜ ê¸ˆê´‘ì€ 1X1í­ê¸° ì¹¸ìœ¼ë¡œ ë‚˜ëˆ ì ¸ ìˆê³ , ê° ì¹¸ì— íŠ¹ì • í¬ê¸°ì˜ ê¸ˆì´ ìˆë‹¤.
ë§¨ ì²«ë²ˆì§¸ ì—´ì˜ ì–´ëŠ í–‰ì—ì„œë“  ì¶œë°œí•˜ì—¬ më²ˆì˜ ì›€ì§ì„(3ê°€ì§€) ì¤‘ í•˜ë‚˜ì˜ ìœ„ì¹˜ë¡œ ì´ë™í•´ì•¼ í•œë‹¤. ê²¨ë¡œê°€ì ìœ¼ë¡œ ì–»ìœ¼ ìˆ˜ ìˆëŠ” ê¸ˆ ìµœëŒ€ í¬ê¸°ë¥¼ ì¶œë ¥í•˜ê¸°

ğŸŠí’€ì´ ì‹œê°„ :
failed

ğŸ’í’€ì´ ë°©ë²• :
ì›€ì§ì„ì— ëŒ€í•´ ì„¤ì •í•˜ê³ (ì¢Œí‘œ), ê·¸ë¦¬ë””í•˜ê²Œ í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê°€ì¥ í° ê°’ì„ ì°¾ë„ë¡ í•¨.
> ë¦¬ìŠ¤íŠ¸ë¥¼ ë°°ì—´ë¡œ ë°”ê¾¼ ë‹¤ìŒì— í™•ì¸í• ê¹Œ? ì•„ë‹ˆë©´ ìˆ˜ì—´ ìì²´ë¡œ ë³´ê³  ì§„í–‰ì„ í• ê¹Œ? > ìˆ˜ì—´ë¡œ ìƒê°í•´ì„œ í’€ì–´ë³´ê¸°
>> ì´ê±¸ ì–´ë–»ê²Œ êµ¬í˜„í•˜ì§€????

solution :
2ì°¨ì› ë°°ì—´ë¡œ ìƒì„±, 3ê°€ì§€ ìœ„ì¹˜(ì˜¤ë¥¸ìª½ìœ„,ì˜¤ë¥¸ìª½,ì˜¤ë¥¸ìª½ ì•„ë˜)ì˜ ê°’ ì¤‘ì—ì„œ maxê°’ì„ ì°¾ê³ , 2ì°¨ì› ë°°ì—´ ê°€ì¥ ë§¨ ì˜¤ë¥¸ìª½ ì•„ë˜ì— ìµœëŒ€ê°’ì„ ì €ì¥í•¨.

'''
# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤(Test Case) ì…ë ¥
for tc in range(int(input())):
    # ê¸ˆê´‘ ì •ë³´ ì…ë ¥
    n, m = map(int, input().split())
    array = list(map(int, input().split()))

    # ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°ì„ ìœ„í•œ 2ì°¨ì› DP í…Œì´ë¸” ì´ˆê¸°í™” : ì—¬ê¸°ê°€ í¬ì¸íŠ¸êµ¬ë‚˜..
    dp = []
    index = 0
    for i in range(n):
        dp.append(array[index:index + m])
        index += m

    # ì´ ë¶€ë¶„ì€ ì¢€ ê¼¬ì¸ë‹¤.
    
    # ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë° ì§„í–‰          : mì—´ì— ë„ë‹¬í•˜ë©´ ì›€ì§ì„ì´ ë©ˆì¶¤
    for j in range(1, m):
        for i in range(n):
            # ì™¼ìª½ ìœ„ì—ì„œ ì˜¤ëŠ” ê²½ìš°
            if i == 0:
                left_up = 0
            else:
                left_up = dp[i - 1][j - 1]          # ì•„, ì¢Œí‘œ ì´ìš©
                
            # ì™¼ìª½ ì•„ë˜ì—ì„œ ì˜¤ëŠ” ê²½ìš°
            if i == n - 1:
                left_down = 0
            else:
                left_down = dp[i + 1][j - 1]
            # ì™¼ìª½ì—ì„œ ì˜¤ëŠ” ê²½ìš°
            left = dp[i][j - 1]
            
            dp[i][j] = dp[i][j] + max(left_up, left_down, left)
    
    result = 0
    for i in range(n):
        result = max(result, dp[i][m - 1])

    print(result)




'''
class Solution :
    def run(self) :
        N,M = map(int(input().split()))
        elements = list(map(int(input().split())))\
        
        result = 0
        
        #ì²« ì‹œì‘ì 
        0,4,,,,
        
        
    
    def gold_mine(self):
        # ì„¤ì •
        import sys
        input = sys.stdin.readline      # ë‚˜ì¤‘ì— ë°±ì¤€ì—ì„œ ì´ë ‡ê²Œ ì„¤ì •í•˜ê³  inputí•¨ìˆ˜ ì‚¬ìš©í•´ë³´ê¸°
        
        movement = [(-1,1),(0,1),(1,1)]     # ì˜¤ë¥¸ìª½ìœ„, ì˜¤ë¥¸ìª½, ì˜¤ë¥¸ìª½ ì•„ë˜
        answer = []
        
        # ì…ë ¥
        T = int(input())
'''